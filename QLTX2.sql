USE [master]
GO

CREATE DATABASE [QLTX]
 CONTAINMENT = NONE 
GO

ALTER DATABASE [QLTX] SET COMPATIBILITY_LEVEL = 140
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [QLTX].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [QLTX] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [QLTX] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [QLTX] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [QLTX] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [QLTX] SET ARITHABORT OFF 
GO
ALTER DATABASE [QLTX] SET AUTO_CLOSE OFF 
GO
ALTER DATABASE [QLTX] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [QLTX] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [QLTX] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [QLTX] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [QLTX] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [QLTX] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [QLTX] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [QLTX] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [QLTX] SET  ENABLE_BROKER 
GO
ALTER DATABASE [QLTX] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [QLTX] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [QLTX] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [QLTX] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [QLTX] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [QLTX] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [QLTX] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [QLTX] SET RECOVERY FULL 
GO
ALTER DATABASE [QLTX] SET  MULTI_USER 
GO
ALTER DATABASE [QLTX] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [QLTX] SET DB_CHAINING OFF 
GO
ALTER DATABASE [QLTX] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [QLTX] SET TARGET_RECOVERY_TIME = 60 SECONDS 
GO
ALTER DATABASE [QLTX] SET DELAYED_DURABILITY = DISABLED 
GO
EXEC sys.sp_db_vardecimal_storage_format N'QLTX', N'ON'
GO
ALTER DATABASE [QLTX] SET QUERY_STORE = OFF
GO
USE [QLTX]
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[CHITIETHD](
	[MADH] [int] NOT NULL,
	[MASP] [int] NOT NULL,
	[SOLUONG] [int] NULL,
 CONSTRAINT [PK_MADH_MASP] PRIMARY KEY CLUSTERED 
(
	[MADH] ASC,
	[MASP] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[DONHANG]    Script Date: 22/06/2022 1:48:03 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[DONHANG](
	[MADH] [int] IDENTITY(1,1) NOT NULL,
	[MAKH] [int] NULL,
	[NGAYLAP] [date] NULL,
	[TONGTIEN] [int] NULL,
 CONSTRAINT [PK_DH] PRIMARY KEY CLUSTERED 
(
	[MADH] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[KHACHHANG](
	[MAKH] [int] IDENTITY(1,1) NOT NULL,
	[TENKH] [nvarchar](150) NULL,
	[SDT] [varchar](20) NULL,
	[DIACHI] [nvarchar](550) NULL,
 CONSTRAINT [PK_KH] PRIMARY KEY CLUSTERED 
(
	[MAKH] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[LOAISP](
	[MALSP] [int] IDENTITY(1,1) NOT NULL,
	[TENLSP] [nvarchar](150) NULL,
 CONSTRAINT [PK_LSP] PRIMARY KEY CLUSTERED 
(
	[MALSP] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[SANPHAM](
	[MASP] [int] IDENTITY(1,1) NOT NULL,
	[TENSP] [nvarchar](1000) NULL,
	[DONGIA] [int] NULL,
	[MOTA] [nvarchar](max) NULL,
	[SOLUONGTON] [int] NULL,
	[HINHANH] [nvarchar](1000) NULL,
	[MALSP] [int] NULL,
 CONSTRAINT [PK_SP] PRIMARY KEY CLUSTERED 
(
	[MASP] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO

SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TaiKhoan](
	[id] [int] IDENTITY(1,1) NOT NULL,
	[username] [varchar](20) NULL,
	[password] [varchar](20) NULL,
	[address] [nvarchar](50) NULL
	CONSTRAINT [PK_TK] PRIMARY KEY CLUSTERED 
(
	[id] ASC
)
)
go


INSERT [dbo].[CHITIETHD] ([MADH], [MASP], [SOLUONG]) VALUES (1, 3, 6)
GO
INSERT [dbo].[CHITIETHD] ([MADH], [MASP], [SOLUONG]) VALUES (1, 6, 12)
GO
INSERT [dbo].[CHITIETHD] ([MADH], [MASP], [SOLUONG]) VALUES (2, 2, 3)
GO
INSERT [dbo].[CHITIETHD] ([MADH], [MASP], [SOLUONG]) VALUES (3, 1, 1)
GO
INSERT [dbo].[CHITIETHD] ([MADH], [MASP], [SOLUONG]) VALUES (3, 8, 1)
GO
SET IDENTITY_INSERT [dbo].[DONHANG] ON 
GO
INSERT [dbo].[DONHANG] ([MADH], [MAKH], [NGAYLAP], [TONGTIEN]) VALUES (1, 1, CAST(N'2022-01-25' AS Date), 12000)
GO
INSERT [dbo].[DONHANG] ([MADH], [MAKH], [NGAYLAP], [TONGTIEN]) VALUES (2, 2, CAST(N'2022-07-12' AS Date), 24000)
GO
INSERT [dbo].[DONHANG] ([MADH], [MAKH], [NGAYLAP], [TONGTIEN]) VALUES (3, 6, CAST(N'2022-06-22' AS Date), NULL)
GO
SET IDENTITY_INSERT [dbo].[DONHANG] OFF
GO
SET IDENTITY_INSERT [dbo].[KHACHHANG] ON 
GO
INSERT [dbo].[KHACHHANG] ([MAKH], [TENKH], [SDT], [DIACHI]) VALUES (1, N'TRẦN TUẤN VU', N'951611022', N'31K BÙI THỊ HOA PHƯỜNG 14 QUẬN 8')
GO
INSERT [dbo].[KHACHHANG] ([MAKH], [TENKH], [SDT], [DIACHI]) VALUES (2, N'DUONG MINH ÐẠT', N'384619819', N'21K BÙI VIỆN PHƯỜNG 11 QUẬN 1')
GO
INSERT [dbo].[KHACHHANG] ([MAKH], [TENKH], [SDT], [DIACHI]) VALUES (3, N'LU QUANG TRỰC', N'831191981', N'141 LÊ TRỌNG TẤN PHƯỜNG TÂY THẠNH QUẬN TÂN PHÚ')
GO
INSERT [dbo].[KHACHHANG] ([MAKH], [TENKH], [SDT], [DIACHI]) VALUES (4, N'NGUYỄN CHÍ XIU', N'953165151', N'13 LÊ THỊ THẢO BẾN NGHÉ QUẬN TÂN BÌNH')
GO
INSERT [dbo].[KHACHHANG] ([MAKH], [TENKH], [SDT], [DIACHI]) VALUES (5, N'TRẦN HỒNG PHUONG', N'361514519', N'15 LÊ THỊ RIÊNG BÌNH AN LONG AN')
GO
INSERT [dbo].[KHACHHANG] ([MAKH], [TENKH], [SDT], [DIACHI]) VALUES (6, N'werty', N'0858394960', N'juohuihguhsio')
GO
SET IDENTITY_INSERT [dbo].[KHACHHANG] OFF
GO
SET IDENTITY_INSERT [dbo].[LOAISP] ON 
GO
INSERT [dbo].[LOAISP] ([MALSP], [TENLSP]) VALUES (1, N'Túi xách thời trang')
GO
INSERT [dbo].[LOAISP] ([MALSP], [TENLSP]) VALUES (2, N'Túi xách du lịch')
GO
INSERT [dbo].[LOAISP] ([MALSP], [TENLSP]) VALUES (3, N'Túi xách học sinh')
GO
INSERT [dbo].[LOAISP] ([MALSP], [TENLSP]) VALUES (4, N'Túi xách công sở')
GO
INSERT [dbo].[LOAISP] ([MALSP], [TENLSP]) VALUES (5, N'Túi xách thời trang cao cấp')
GO

SET IDENTITY_INSERT [dbo].[LOAISP] OFF
GO
SET IDENTITY_INSERT [dbo].[SANPHAM] ON 
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (1, N'CONTRAST CROSSBODY BAG', 50000, N'', 500, N'0001.jpg', 1)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (2, N'TÚI TRỐNG TRÁNG CAO SU', 100000, NULL, 500, N'0002.jpg', 1)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (3, N'BA LÔ TRÁNG CAO SU CÓ NẮP', 75000, N'', 500, N'0003.jpg', 1)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (4, N'Túi Tote Giovanni GioGio DC234-BE Màu Be', 95000, N'', 500, N'0004.jpg', 1)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (5, N'Túi Xách Du Lịch Thể Thao Thông Minh Đa Năng Rất Tốt Phong Cách Mới', 90000, N'', 500, N'0005.jpg', 3)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (6, N'TÚI XÁCH TẾT BỆN', 110000, N'', 500, N'0006.jpg', 3)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (7, N'Ozark Trail 30L Lightweight Hiking Backpack', 100000, N'', 500, N'g7.jpg', 4)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (8, N'BA LÔ EXPLORER TRÁNG CAO SU DẬP VÂN NỔI', 150000, N'', 500, N'0008.jpg', 4)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (9, N'DIOR BOOK TOTE OBLIQUE BLACK', 100000, N'', 500, N'0009.jpg', 3)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (10, N'Túi Nữ Burberry Leather TB Shoulder Bag', 150000, N'', 500, N'0010.jpg', 3)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (11, N'TÚI ĐEO VAI KẾT CƯỜM PHỐI TUA RUA', 120000, N'', 500, N'b1.jpg', 3)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (12, N'TÚI DÂY RÚT MINI CHẦN BÔNG', 140000, N'', 500, N'b2.jpg', 3)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (13, N'TÚI XÁCH DA MỀM', 100000, N'', 500, N'b3.jpg', 3)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (14, N'TÚI ĐEO VAI CÓ NHIỀU NGĂN', 95000, N'', 500, N'b4.jpg', 3)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (15, N'TÚI XÁCH BỆN DÂY DỪNG', 85000, N'', 500, N'b5.jpg', 3)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (16, N'TÚI SHOPPER MINI ĐAN LƯỚI', 120000, N'', 500, N'b6.jpg', 3)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (17, N'TÚI XÁCH TẾT BỆN MACRAME', 90000, N'', 500, N'b7.jpg', 2)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (18, N'TÚI DÂY RÚT ĐÍNH ĐÁ LẤP LÁNH', 110000, N'', 500, N'b8.jpg', 2)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (19, N'TÚI VUÔNG MINI DENIM PATCHWORK', 150000, N'', 500, N'g2.jpg', 2)
GO
INSERT [dbo].[SANPHAM] ([MASP], [TENSP], [DONGIA], [MOTA], [SOLUONGTON], [HINHANH], [MALSP]) VALUES (20, N'TÚI CITY MINI VẢI DENIM', 90000, N'', 500, N'g4.jpg', 5)
GO
SET IDENTITY_INSERT [dbo].[SANPHAM] OFF
GO
SET IDENTITY_INSERT [dbo].[TaiKhoan] ON 
GO
INSERT [dbo].[TaiKhoan] ([id], [username], [password], [address]) VALUES (1, N'admin', N'admin', N'140 Lê Trọng Tấn')
GO
SET IDENTITY_INSERT [dbo].[TaiKhoan] OFF
GO
ALTER TABLE [dbo].[CHITIETHD]  WITH CHECK ADD  CONSTRAINT [FK_MADH_CTHD] FOREIGN KEY([MADH])
REFERENCES [dbo].[DONHANG] ([MADH])
GO
ALTER TABLE [dbo].[CHITIETHD] CHECK CONSTRAINT [FK_MADH_CTHD]
GO
ALTER TABLE [dbo].[CHITIETHD]  WITH CHECK ADD  CONSTRAINT [FK_MASP_CTHD] FOREIGN KEY([MASP])
REFERENCES [dbo].[SANPHAM] ([MASP])
GO
ALTER TABLE [dbo].[CHITIETHD] CHECK CONSTRAINT [FK_MASP_CTHD]
GO
ALTER TABLE [dbo].[DONHANG]  WITH CHECK ADD  CONSTRAINT [FK_MAKH_DH] FOREIGN KEY([MAKH])
REFERENCES [dbo].[KHACHHANG] ([MAKH])
GO
ALTER TABLE [dbo].[DONHANG] CHECK CONSTRAINT [FK_MAKH_DH]
GO
ALTER TABLE [dbo].[SANPHAM]  WITH CHECK ADD  CONSTRAINT [FK_SP_LSP] FOREIGN KEY([MALSP])
REFERENCES [dbo].[LOAISP] ([MALSP])
GO
ALTER TABLE [dbo].[SANPHAM] CHECK CONSTRAINT [FK_SP_LSP]
GO
USE [master]
GO
ALTER DATABASE [QLTX] SET  READ_WRITE 
GO
